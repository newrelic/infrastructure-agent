name: ğŸ•µğŸ¼ Trivy scanner for docker
on:
  schedule:
    # Scheduled to run hourly
    # min, hour, day of the month, month (1 - 12 or JAN-DEC), day of the week (0 - 6 or SUN-SAT)
    - cron:  '0 8 * * *'
  workflow_dispatch:
    inputs:
      tag:
        description: 'Tag to scan'
        required: false
        default: 'latest'
jobs:
  docker-trivy:
    uses: ./.github/workflows/component_trivy.yml
    with:
      tag: "${{ github.event.inputs.tag }}"
      severity: "CRITICAL,HIGH,MEDIUM"